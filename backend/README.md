数据库存储的时间格式
1. 北京时间
2. 时间戳

服务器时区
utc时区

symbol类型
1. crypto
2. cn_goods
3. us_goods
4. currency
5. stock_index
6. us_stock
7. sz_stock
8. ss_stock
9. hk_stock
10. jp_stock


<!-- vnpy -->
手动下载数据
python3.9 -u cron/binance_btcusdt_1m.py | tee out.log
测试策略的过程
python3.9 test/test_strategy_condition_and_show_mpf.py
测试策略
python3.9 -u examples/cta_backtesting/backtesting_demo.py | tee out.log
python3.9 -u examples/veighna_trader/run.py | tee out.log


CTA（Commodity Trading Advisors）趋势系统的夏普比率（Sharpe Ratio）和索提诺比率（Sortino Ratio）是衡量其性能的重要指标。

1. **夏普比率**：这个比率通过将投资组合的超额回报（即超过无风险利率的回报）除以其波动性（标准差）来计算。一个常见的“合格”标准是：
   - 夏普比率在1.0以上通常被认为是可接受的或良好的。
   - 高于2.0被认为是非常好的。
   - 高于3.0则是非常优秀的。

2. **索提诺比率**：它类似于夏普比率，但只考虑下行风险，即不良波动。这使得索提诺比率在评估具有不对称风险特征的投资时更加有效。
   - 索提诺比率的合格标准没有夏普比率那样明确，但通常高于2.0被认为是好的，更高则被认为是优秀。




<!-- 可能突破策略分钟级别的bar不够用需要优化成tick级别。 -->

<!-- 系统故障 日志查询过程 -->
- 登录到/var/lib/docker/containers/13be83d25900112f53c9a40875100e7897688ed4a1c1006f14fc4ae3f79b7d5f目录
把日志文件切小 然后下载到本地查看问题





<!-- TODO_LIST -->
1. 测试单品种单策略，优化参数。找到参数和历史数据波动的规律。
   1. 单系统夏普比优化到超过2
   2. 观察索提诺比率，超过2。趋势系统可能更看重这个(最大连续止损次数)。
   3. 开多个portfolio 测试数据
   4. 系统开仓自动叠加。比如单损比例提高到10%,随资金比例放大。
2. 测试单品种多策略组合，平滑资金曲线。优化最大回撤和夏普比率。
3. 测试多品种多策略组合，提高资金使用率。
4. 生产环境准备和测试。使用模拟资金进行测试。
   1. 用testnet币安测试模拟资金
5. 实盘测试。
   1. 子账户进行隔离

<!-- 模拟测试+开平告警 -->
- 调整期货、商品、外汇的数据存储
- 关掉之前的数据存储cron
- 开启策略，让自选的几个品种数据流过策略处理，再存储。
  - 6个左右主流商品
  - 3个主流数字货币
  - 3个主流外汇
- 交易模块进行虚拟交易，然后设置告警。模拟交易数据存储。
- 有空把日志进行滚动，定时清空。不然2个月就有7个G日志。


<!-- TODAY_TODO: -->
- 开启策略，让自选的几个品种数据流过策略处理，再存储。
- 交易模块进行虚拟交易，然后设置告警，模拟交易数据存储。